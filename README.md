# 引言
现在有许多的基于Si5351的ft8自制收发信机，比如ADX，AFP-FSK。但是这些都只是工作在短波段。  
没有一个能工作在6m波段，而6m波段是一个有趣的魔术波段，很容易在低功率情况下传播很远，并且传播开通难以掌握，所以需要
一台可以长时间工作在6m波段的设备。

这是因为Si5351无法直接产生6m（50.313Mhz）波段的ft8信号，而使用混频的方法，会让电路变的非常复杂。  
所以我采用了二次谐波的方法间接产生6m（50.313Mhz）波段的ft8信号。  

只需要修改  
#define FT8_TONE_SPACING       312 //625          // ~3.12 Hz     //产生二次谐波，就可以到6.24hz  
#define FT8_DEFAULT_FREQ        25156500UL   //产生二次谐波，就可以到50.313Mhz  

再使用50Mhz带通滤波器选择出信号，就可以产生6m波段的ft8信号。

再通过一个功放部分，就可以组成一个最简单的6m波段发射机。

# 补充部分
为什么之前的代码无法直接产生6m的ft8，关键在于下面两句代码，FT8_DEFAULT_FREQ的定义为UL，范围太小。 
导致FT8_DEFAULT_FREQ赋值给freq后再乘以100发生了回绕。 
#define FT8_DEFAULT_FREQ        25156500UL 
si5351.set_freq((freq * 100) + (fixed_buffer[i] * tone_spacing), SI5351_CLK1); 

因为UL(unsigned long)是 32 位（4 字节），范围： 
0 到 4,294,967,295 
如果freq设置为50313000UL，那么 
50313000UL * 100UL = 5,031,300,000 
由于 5,031,300,000 > 4,294,967,295，计算会回绕（wrap around），最终结果是： 
5,031,300,000 - 4,294,967,296 = 736,332,704。 
解决办法是将UL改为ULL，参考BD6CR的ADT_V1.1代码。 
在直接产生6m信号后，可以减少中周滤波器部分，发射器更简洁





# 发射机结构框图
发射机的结构如下,采用arduino uno单片机作为控制部分。首先，arduino通过I2C和DS3231相连，保证ft8发射的时间准确性。当时间为15和45秒的时候，arduino将会控制Si5351进行发射，同时arduino的7号引脚输出高电平，控制继电器输出12V电压为2瓦的射频功放供电。Si5351输出基频为25.1565MHz，频率间隔为3.12Hz的方波信号。该信号通过50MHz的带通滤波器可以得到基频为50.313MHz，频率间隔为6.24Hz的正弦波信号。这正是我们需要的6m（50.313Mhz）波段的ft8信号。最后，因为滤波器输出的6m的ft8信号强度只有10dBm，所以需要通过功率放大器进行放大达到1.2dBW后并通过50MHz低通滤波器输出到天线发射。我这里的天线采用了最简单的偶极天线。
![](/发射机结构框图.png "发射机结构框图")

# 中周滤波器
发射机的大部分部件都可以直接在网上买到相应的模块或者容易制作，唯独50MHz带通滤波器很难找到现成的模块，所以在这里详细描述。50MHz带通滤波器的设计灵感来源于BD6CR推荐的[FCZ设计：6m 10mW AM发射机](https://mp.weixin.qq.com/s/AetS39uVVhYQ-F7M1klsOw)，采用了该发射机本振部分的中周滤波部分。为了增加滤波效果，将中周滤波部分重复了4次，最后有效的获取了50MHz的信号。在该滤波器模块当中，使用5V电压进行供电，以提供三极管所需要的偏压。相应的元器件购买可以参考BD6CR的文章[巧克力洞洞板兼容元件推荐清单](https://mp.weixin.qq.com/s/ajzGyxk936OTM2Bte2V80g)
![](/中周滤波器电路图.png "中周滤波器实物图")
![](/中周滤波器实物图.jpg "中周滤波器实物图")

# 发射机实物图
最后整体的发射机实物图如下，其中电源部分采用了一块USB诱骗器，可以提供12V电压。中周滤波器使用的5V电压通过78L05稳压得到。低通滤波器的设计来源于文章[si5351a-VFOを使用した50MHz-AMトランシーバーの製作](https://www.henteko.org/wpress/ham_radio/si5351a-vfo_50mhz-am_transceiver/),在本仓库中放有对应的电路图和实物图，就不在README.me中展示
![](/发射机实物图.jpg "发射机实物图")

我的呼号是BI6LTD，期待空中通联。如果有需要，可以通过[QRZ主页](https://www.qrz.com/db/BI6LTD)联系我


参考项目  
https://github.com/kholia/Easy-FT8-Beacon-v3/blob/master/Easy-FT8-Beacon-v3/Easy-FT8-Beacon-v3.ino  
https://github.com/etherkit/Si5351Arduino  
